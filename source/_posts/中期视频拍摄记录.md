# 中期视频拍摄记录

终于把中期视频拍完了，写点记录吧，便于以后的回顾，也是一次记录与反思。

我负责打符的中期视频的自瞄部分。

调试打符过程，需要三个人。

一个人负责符的维修，一个人负责打符的那辆车的电控部分，

>  写到此处，吾儿张佳硕跑过来，告诉我这样说比较有文学气息：总共有两个人负责打符，一个人负责打符的代码，另一个人也负责打符的代码。

最后一个人负责视觉的代码部分。

符老是坏，这是很闹心的。许多时候打着打着就出彩蛋了。

给大家看看彩蛋模式的符：

![img](https://bozhiblogimage.oss-cn-beijing.aliyuncs.com/pic/202401252202945.jpeg)

还有小旋风

![img](https://bozhiblogimage.oss-cn-beijing.aliyuncs.com/pic/202401252212300.jpeg)

所以需要一直修。拍完视频后我问我们的大符电控刘宇航这个符调好后不动寒假后还好着么，他说这肯定不行，这玩意儿早上一个样，晚上一个样。被我们总结为：朝闻道，夕死可以。

第二个电控——两舵两全向电控：王一凡。人称王工。前一天他们调好自瞄后弹道变得稀烂，（大概是因为天冷+弹丸表面粗糙），弹道散度较大。。但这边总体还是比较顺利的，王工很有经验！

第三个人——视觉——也就是在下。

这次调幅很不顺利，一方面是弹道的问题。另一方面，也是主要方面，是程序的问题：

符什么的都搞好了后，识别也不错，但预测却一团糟。预测的结果满天飞，这一定是R标识别出现了问题！但是R标明明白白地画在了图像上，这是为什么呢？看着程序不断输出 "not enough points!"（指R标的关键点没识别到）,一脸懵逼。问蒙奕帆，他说是识别率的问题。

但是我还是想看看有没有什么办法能不标数据集呢，毕竟现在已有的网络模型可是7000多张数据集练出来了，感觉应该够厉害了。程序跑了一会，忽然就好了，识别非常不错，预测也不飞了。太好了！终于可以开打了！正当我满怀期待的时候，符坏了。我们的一号电控——刘大师开修，还有项管也跑来助阵，最终达成了第一张图的彩蛋大符的效果。

不过最后修好了，车也因为没电重启了一次，程序重新开始跑的时候就又寄了。

奇怪！莫名其妙地好，莫名其妙地坏！

修了半天未果，在曾阳的建议下，去标数据集了。幸好有一个学弟——关超在实验室，就辛苦了一下学弟了。我俩标完，丹炼完，就已经晚上了。（中途炼丹的时间正好吃个饭=w=)但是，把新丹放上去，发现代码片段被莫名的擦掉了一块，像是不小心选中然后delete了。但我的记性，也记不住这块代码原来啥样呀。这可咋办，编译都过不了了。

幸好，这台nuc上还留着原来的打符代码，原来的版本在被抹掉的这一块应该是相同的。进行了一下移植，终于可以跑了！

看看新丹的识别效果：

![img](https://bozhiblogimage.oss-cn-beijing.aliyuncs.com/pic/202401252230959.jpg)

识别烂完了！！原来是曾阳把路径搞错了，除了bug。终于调好后，还跟下午那样儿。此时，曾阳又出手了。他敏锐地从那段奇怪的输出："not enough points!"入手，发现points.size居然等于0！但是点都画在图片上了呀！一定是信息传送出了问题。

轮到我出手了，进行了一系列的查找，发现我对打符代码已经忘了很多了。好在这次有针对性，花了半小时左右终于找到了问题所在这个困扰我一下午的问题，原来是一个if条件的id写错了！！！

好吧，也不知道为啥就错了，两个月前还能用而且也没人动这个代码呀。

改过来id，果然一切ok了。再微调了下稀烂的弹道，终于开拍了。

开拍很顺利，就是弹道稀烂，命中率。。。

![img](https://bozhiblogimage.oss-cn-beijing.aliyuncs.com/pic/202401252236958.jpeg)

酱紫，2333。还拍了一次，比这次还低hhh。

一天结束！下班！